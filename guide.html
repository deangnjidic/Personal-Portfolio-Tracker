<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Guide - Free Portfolio Tracker</title>
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <link rel="icon" type="image/png" sizes="192x192" href="icon-192.png">
    <link rel="apple-touch-icon" href="icon-192.png">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="cookie-consent.css">
    <style>
        .guide-container {
            max-width: 900px;
            margin: 0 auto;
        }

        .guide-section {
            background: #161b22;
            border: 1px solid #30363d;
            border-radius: 8px;
            padding: 24px;
            margin-bottom: 20px;
        }

        .guide-section h2 {
            color: #58a6ff;
            font-size: 22px;
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .guide-section h3 {
            color: #e6edf3;
            font-size: 18px;
            margin-top: 20px;
            margin-bottom: 12px;
            padding-bottom: 8px;
            border-bottom: 1px solid #30363d;
        }

        .guide-section h3:first-of-type {
            margin-top: 0;
        }

        .guide-section p {
            color: #c9d1d9;
            line-height: 1.6;
            margin-bottom: 12px;
        }

        .guide-section ul, .guide-section ol {
            color: #c9d1d9;
            line-height: 1.8;
            margin-left: 20px;
            margin-bottom: 12px;
        }

        .guide-section li {
            margin-bottom: 8px;
        }

        .guide-section strong {
            color: #e6edf3;
            font-weight: 600;
        }

        .guide-section code {
            background: #0d1117;
            padding: 2px 6px;
            border-radius: 3px;
            color: #79c0ff;
            font-family: 'Courier New', monospace;
            font-size: 13px;
        }

        .button-demo {
            background: #21262d;
            border: 1px solid #30363d;
            padding: 8px 16px;
            border-radius: 6px;
            color: #e6edf3;
            font-size: 14px;
            display: inline-block;
            margin: 4px;
        }

        .tip-box {
            background: #1a2332;
            border-left: 4px solid #58a6ff;
            padding: 16px;
            margin: 16px 0;
            border-radius: 4px;
        }

        .tip-box strong {
            color: #58a6ff;
        }

        .warning-box {
            background: #2d1e1e;
            border-left: 4px solid #f85149;
            padding: 16px;
            margin: 16px 0;
            border-radius: 4px;
        }

        .warning-box strong {
            color: #f85149;
        }

        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 16px;
            margin: 20px 0;
        }

        .feature-card {
            background: #0d1117;
            border: 1px solid #30363d;
            padding: 16px;
            border-radius: 6px;
        }

        .feature-card h4 {
            color: #58a6ff;
            margin-bottom: 8px;
            font-size: 16px;
        }

        .feature-card p {
            font-size: 14px;
            margin: 0;
        }
    </style>
</head>
<body>
    <!-- Header Section -->
    <header class="header">
        <div class="header-content">
            <h1>üìñ User Guide</h1>
            <div class="header-controls">
                <button onclick="window.location.href='app.html'" class="btn btn-primary">‚Üê Back to Portfolio</button>
            </div>
        </div>
    </header>

    <div class="guide-container">
        <!-- Getting Started -->
        <section class="guide-section">
            <h2>üöÄ Getting Started</h2>
            <p>Welcome to Portfolio Tracker! This is a privacy-first portfolio tracker that works entirely in your browser. All your data is stored locally on your device - nothing is sent to any server.</p>
            
            <h3>First-Time Setup</h3>
            <ol>
                <li><strong>Configure API Keys</strong> (Optional but recommended):
                    <ul>
                        <li>Click <span class="button-demo">‚öôÔ∏è Settings</span></li>
                        <li>Enter your free API keys:
                            <ul>
                                <li><strong>Finnhub</strong> - For stock prices (get free at <a href="https://finnhub.io/" target="_blank" style="color: #58a6ff;">finnhub.io</a>)</li>
                                <li><strong>Metals.dev</strong> - For precious metal prices (get free at <a href="https://metals.dev/" target="_blank" style="color: #58a6ff;">metals.dev</a>)</li>
                            </ul>
                        </li>
                        <li>Keys are stored locally and never shared</li>
                    </ul>
                </li>
                <li><strong>Customize Person Names</strong>:
                    <ul>
                        <li>In Settings, change "John" and "Maria" to your preferred names</li>
                        <li>Perfect for tracking individual or joint portfolios</li>
                    </ul>
                </li>
            </ol>

            <div class="tip-box">
                <strong>üí° Tip:</strong> The app comes with demo data to help you explore. You can delete demo assets anytime and add your own!
            </div>
        </section>

        <!-- Main Portfolio Page -->
        <section class="guide-section">
            <h2>üè† Main Portfolio Page</h2>
            <p>This is your dashboard showing all your assets, their current values, and portfolio summary.</p>

            <h3>Quick Stats Cards</h3>
            <p>At the top, you'll see key metrics:</p>
            <ul>
                <li><strong>Total Portfolio Value</strong> - Combined value across all assets</li>
                <li><strong>Person 1 & Person 2 Values</strong> - Individual portfolio values</li>
                <li><strong>Best Performer</strong> - Asset with highest 24h gain</li>
                <li><strong>Worst Performer</strong> - Asset with highest 24h loss</li>
            </ul>

            <h3>Main Buttons</h3>
            <div class="feature-grid">
                <div class="feature-card">
                    <h4>Refresh Prices</h4>
                    <p>Updates all asset prices from APIs. Caches for 60 seconds to avoid rate limits.</p>
                </div>
                <div class="feature-card">
                    <h4>üìà History</h4>
                    <p>View portfolio snapshots over time and track growth with charts.</p>
                </div>
                <div class="feature-card">
                    <h4>üìä Charts</h4>
                    <p>Visual breakdowns: allocation pie charts, comparisons, and top/bottom performers.</p>
                </div>
                <div class="feature-card">
                    <h4>üîÑ Compare</h4>
                    <p>Side-by-side comparison of Person 1 vs Person 2 portfolios.</p>
                </div>
                <div class="feature-card">
                    <h4>üì∞ News</h4>
                    <p>Get latest news for your holdings (requires Finnhub API key).</p>
                </div>
                <div class="feature-card">
                    <h4>üì• Import CSV</h4>
                    <p>Bulk import assets from M1 Finance or custom CSV files.</p>
                </div>
                <div class="feature-card">
                    <h4>Export</h4>
                    <p>Download your entire portfolio as JSON backup (includes API keys).</p>
                </div>
                <div class="feature-card">
                    <h4>Import</h4>
                    <p>Restore portfolio from a previous JSON backup.</p>
                </div>
                <div class="feature-card">
                    <h4>‚öôÔ∏è Settings</h4>
                    <p>Configure person names and API keys.</p>
                </div>
            </div>

            <h3>Adding Assets</h3>
            <ol>
                <li>Click <span class="button-demo">Add Asset</span> button</li>
                <li>Select asset type: <code>Stock</code>, <code>Crypto</code>, <code>Metal</code>, or <code>Savings</code></li>
                <li>Enter the symbol (e.g., AAPL, BTC, GOLD) - autocomplete will help!</li>
                <li>Add a friendly name (optional - auto-filled from suggestions)</li>
                <li>Enter quantities for each person</li>
                <li>Click <strong>Save</strong></li>
            </ol>

            <h3>Managing Assets</h3>
            <ul>
                <li><strong>Edit</strong> - Click pencil icon to modify quantities or details</li>
                <li><strong>Delete</strong> - Click trash icon to remove asset</li>
                <li><strong>Search</strong> - Use search box to filter assets by name or symbol</li>
                <li><strong>Filter</strong> - Click <code>All</code>, <code>Stocks</code>, <code>Crypto</code>, <code>Metals</code>, or <code>Savings</code> to filter</li>
                <li><strong>Sort</strong> - Click column headers to sort by name, type, price, or value</li>
            </ul>

            <div class="tip-box">
                <strong>üí° Tip:</strong> Prices are cached for 60 seconds. If you don't see updates, wait a minute and click Refresh Prices again.
            </div>
        </section>

        <!-- History Page -->
        <section class="guide-section">
            <h2>üìà History Page</h2>
            <p>Track your portfolio's growth over time with snapshots.</p>

            <h3>Taking Snapshots</h3>
            <ol>
                <li>Go to main portfolio page</li>
                <li>Click <span class="button-demo">Save Snapshot</span></li>
                <li>Your current portfolio value is recorded with timestamp</li>
            </ol>

            <h3>Viewing History</h3>
            <ul>
                <li><strong>Portfolio Value Chart</strong> - Line graph showing value over time</li>
                <li><strong>Snapshots Table</strong> - All saved snapshots with date, value, and change</li>
                <li><strong>Delete Snapshots</strong> - Click trash icon to remove individual snapshots</li>
            </ul>

            <div class="tip-box">
                <strong>üí° Tip:</strong> Take regular snapshots (daily, weekly, or monthly) to track your investment performance!
            </div>
        </section>

        <!-- Charts Page -->
        <section class="guide-section">
            <h2>üìä Charts Page</h2>
            <p>Visualize your portfolio with interactive charts.</p>

            <h3>Available Charts</h3>
            <ul>
                <li><strong>Asset Allocation Pie Chart</strong> - See percentage breakdown of your portfolio by asset</li>
                <li><strong>Person Comparison Bar Chart</strong> - Compare Person 1 vs Person 2 by asset type</li>
                <li><strong>Portfolio Breakdown</strong> - Total value by asset type</li>
                <li><strong>Top 10 Performers</strong> - Best performing assets (24h % change)</li>
                <li><strong>Bottom 10 Performers</strong> - Worst performing assets (24h % change)</li>
            </ul>

            <div class="tip-box">
                <strong>üí° Tip:</strong> Hover over chart elements to see detailed values!
            </div>
        </section>

        <!-- Compare Page -->
        <section class="guide-section">
            <h2>üîÑ Compare Page</h2>
            <p>Side-by-side comparison of Person 1 and Person 2 portfolios.</p>

            <h3>What You'll See</h3>
            <ul>
                <li><strong>Individual Portfolio Values</strong> - Total value for each person</li>
                <li><strong>Asset-by-Asset Comparison</strong> - How much each person owns of each asset</li>
                <li><strong>Percentage Ownership</strong> - Who owns more of each asset</li>
                <li><strong>Value Breakdown</strong> - Dollar value of each person's holdings</li>
            </ul>
        </section>

        <!-- News Page -->
        <section class="guide-section">
            <h2>üì∞ News Page</h2>
            <p>Stay updated with the latest news for your holdings.</p>

            <h3>Requirements</h3>
            <ul>
                <li>Finnhub API key configured in Settings</li>
                <li>Stock symbols in your portfolio</li>
            </ul>

            <h3>Features</h3>
            <ul>
                <li>Latest news articles for your stock holdings</li>
                <li>Filter news by specific stock symbol</li>
                <li>Click headlines to read full articles</li>
            </ul>

            <div class="warning-box">
                <strong>‚ö†Ô∏è Note:</strong> News is only available for stocks, not crypto or metals. Free Finnhub tier has limited news requests per day.
            </div>
        </section>

        <!-- Import CSV Page -->
        <section class="guide-section">
            <h2>üì• Import CSV Page</h2>
            <p>Bulk import assets from CSV files.</p>

            <h3>Supported Formats</h3>
            <ul>
                <li><strong>M1 Finance Export</strong> - Direct import from M1 Finance CSV</li>
                <li><strong>Custom CSV</strong> - Create your own with columns: Symbol, Name, Type, Person1_Qty, Person2_Qty</li>
            </ul>

            <h3>How to Import</h3>
            <ol>
                <li>Select import type: M1 Finance or Custom CSV</li>
                <li>Click <strong>Choose File</strong> and select your CSV</li>
                <li>Review the preview</li>
                <li>Map Person 1 and Person 2 names to CSV columns (for M1 Finance)</li>
                <li>Click <strong>Import Assets</strong></li>
            </ol>

            <div class="tip-box">
                <strong>üí° Tip:</strong> Import will not create duplicates. If an asset already exists, it will be skipped.
            </div>
        </section>

        <!-- Export & Import -->
        <section class="guide-section">
            <h2>üíæ Backup & Restore</h2>
            
            <h3>Exporting Your Portfolio</h3>
            <ol>
                <li>Click <span class="button-demo">Export</span> on main page</li>
                <li>A JSON file will download: <code>portfolio_backup.json</code></li>
                <li>This includes:
                    <ul>
                        <li>All your assets</li>
                        <li>Historical snapshots</li>
                        <li>Settings (names, API keys)</li>
                    </ul>
                </li>
            </ol>

            <h3>Importing a Backup</h3>
            <ol>
                <li>Click <span class="button-demo">Import</span> on main page</li>
                <li>Select your <code>portfolio_backup.json</code> file</li>
                <li>Your portfolio will be restored completely</li>
            </ol>

            <div class="warning-box">
                <strong>‚ö†Ô∏è Warning:</strong> Importing will replace ALL current data. Export first if you want to keep your current portfolio!
            </div>
        </section>

        <!-- Privacy & Security -->
        <section class="guide-section">
            <h2>üîí Privacy & Security</h2>
            
            <h3>Your Data is Safe</h3>
            <ul>
                <li><strong>100% Local</strong> - All data stored in your browser's localStorage</li>
                <li><strong>No Server</strong> - No backend database, no data collection</li>
                <li><strong>No Tracking</strong> - Your portfolio never leaves your device</li>
                <li><strong>API Keys Protected</strong> - Stored locally, never in source code or GitHub</li>
            </ul>

            <h3>Data Storage</h3>
            <ul>
                <li>Data is stored in browser localStorage</li>
                <li>Clearing browser data will delete your portfolio</li>
                <li>Regular exports recommended as backups</li>
                <li>Each browser stores data separately</li>
            </ul>

            <div class="tip-box">
                <strong>üí° Best Practice:</strong> Export your portfolio monthly as a backup. Store the JSON file safely (e.g., cloud storage, USB drive).
            </div>
        </section>

        <!-- Troubleshooting -->
        <section class="guide-section">
            <h2>üõ†Ô∏è Troubleshooting</h2>
            
            <h3>Prices Not Updating?</h3>
            <ul>
                <li>Check that API keys are configured in Settings</li>
                <li>Wait 60 seconds between refresh attempts (cache limitation)</li>
                <li>Verify API keys are valid and not expired</li>
                <li>Check browser console for error messages (F12)</li>
            </ul>

            <h3>Asset Not Found?</h3>
            <ul>
                <li><strong>Stocks</strong> - Use correct ticker symbol (e.g., AAPL not Apple)</li>
                <li><strong>Crypto</strong> - Use CoinGecko IDs (bitcoin, ethereum, cardano)</li>
                <li><strong>Metals</strong> - Use uppercase codes (GOLD, SILVER, PLATINUM, PALLADIUM)</li>
            </ul>

            <h3>Data Lost?</h3>
            <ul>
                <li>Check if you cleared browser data/cache</li>
                <li>Verify you're using the same browser and profile</li>
                <li>Restore from your last JSON export</li>
            </ul>

            <h3>Import Failed?</h3>
            <ul>
                <li>Ensure JSON file is valid (not corrupted)</li>
                <li>Check CSV format matches expected columns</li>
                <li>Try importing a smaller batch of assets</li>
            </ul>
        </section>

        <!-- Tips & Tricks -->
        <section class="guide-section">
            <h2>‚ú® Tips & Tricks</h2>
            
            <ul>
                <li><strong>Regular Snapshots</strong> - Take weekly snapshots to track long-term growth</li>
                <li><strong>Export Often</strong> - Monthly backups prevent data loss</li>
                <li><strong>Use Search</strong> - Quickly find assets in large portfolios</li>
                <li><strong>Multiple Browsers</strong> - Use different browsers for separate portfolios (personal vs business)</li>
                <li><strong>CSV Import</strong> - Faster than manual entry for 10+ assets</li>
                <li><strong>Bookmark Pages</strong> - Save direct links to Charts or History pages</li>
                <li><strong>Check News</strong> - Stay informed about your holdings' market movements</li>
            </ul>
        </section>

        <!-- Support -->
        <section class="guide-section">
            <h2>‚ùì Need Help?</h2>
            <p>If you need additional assistance:</p>
            <ul>
                <li><strong>GitHub Issues</strong> - Report bugs or request features at <a href="https://github.com/deangnjidic/Personal-Portfolio-Tracker/issues" target="_blank" style="color: #58a6ff;">GitHub Issues</a></li>
                <li><strong>README</strong> - Check the <a href="https://github.com/deangnjidic/Personal-Portfolio-Tracker" target="_blank" style="color: #58a6ff;">README.md</a> for more details</li>
                <li><strong>Demo Data</strong> - Explore with pre-loaded demo assets to understand features</li>
            </ul>
        </section>
    </div>

    <div style="height: 40px;"></div>
    
    <!-- Cookie Consent System -->
    <script src="cookie-consent.js"></script>
</body>
</html>
